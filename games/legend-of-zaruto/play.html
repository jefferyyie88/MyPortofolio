<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Legend of Zaruto</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      margin: 0;
      background: #111;
      color: white;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .content {
      max-width: 900px;
      width: 100%;
      padding: 20px;
    }

    .game-container {
      width: 640px;
      height: 480px;
      background: black;
      margin: auto;
      position: relative;
      overflow: hidden; /* ensure scaled content doesn't overflow the box */
    }

    /* the wrapper that holds the fixed 640x480 game and gets scaled */
    .game-scale {
      width: 640px;
      height: 480px;
      position: absolute;
      left: 0;
      top: 0;
      transform-origin: 0 0; /* scale from top-left, easier to compute offsets */
    }

    /* play overlay sits above the scaled game so the button is clickable */
    .play-overlay {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 20;
      pointer-events: auto;
      background: rgba(0,0,0,0.0); /* keep transparent but intercept clicks */
    }

    .play-btn {
      font-size: 20px;
      padding: 12px 18px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      background: #0af;
      color: #000;
      font-weight: bold;
      box-shadow: 0 2px 6px rgba(0,0,0,0.4);
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
    }

    .controls {
      display: flex;
      justify-content: center;
      margin: 10px 0;
      gap: 10px;
    }

    button {
      padding: 8px 16px;
      background: #0af;
      border: none;
      color: black;
      cursor: pointer;
      font-weight: bold;
    }

    button:hover {
      background: #08c;
    }

    .description img {
      width: 100%;
      max-width: 800px;
      display: block;
      margin: 20px auto;
      border-radius: 6px;
    }

    /* steam preview video frame: keep a consistent, normal size whether playing or not */
    .steam-video-frame {
      width: 100%;
      max-width: 800px;
      margin: 12px auto;
      background: #000;
      border-radius: 6px;
      overflow: hidden;
      aspect-ratio: 16 / 9; /* keep consistent 16:9 preview */
      display: block;
    }

    .steam-video-frame video {
      width: 100%;
      height: 100%;
      display: block;
      object-fit: contain; /* show full video/poster without cropping */
    }

    @media (max-width: 700px) {
      .game-container {
        width: 100%;
        aspect-ratio: 4 / 3;
        height: auto;
      }
    }
    /* when the container is fullscreen make it fill the screen */
    .game-container:-webkit-full-screen,
    .game-container:fullscreen {
      width: 100vw !important;
      height: 100vh !important;
    }
  </style>
</head>
<body>

  <div class="content">
    <h1>Legend of Zaruto</h1>

    <!-- üéÆ GAME -->
  <div class="game-container" id="gameBox">

  <!-- ‚ñ∂ PLAY OVERLAY -->
  <div class="play-overlay" id="playOverlay">
    <button class="play-btn" onclick="startGame()">‚ñ∂ Play</button>
  </div>

  <!-- üîç SCALE WRAPPER (STEP 2 GOES HERE) -->
  <div class="game-scale" id="gameScale">
    <iframe id="gameFrame" title="game-frame" allowfullscreen></iframe>
  </div>

</div>



    <!-- üéõ CONTROLS -->
    <div class="controls">
      <button onclick="goFullscreen()">Fullscreen</button>
      <a href="../../index.html" style="color:#0af; align-self:center;">‚Üê Back</a>
    </div>

    <script>
  function startGame() {
  const iframe = document.getElementById("gameFrame");
  const overlay = document.getElementById("playOverlay");

  console.log('startGame() called, current iframe src=', iframe.src);
  if (!iframe.src || iframe.src === window.location.href) {
    // set src only once
    iframe.src = "index.html";
  }
  overlay.style.display = "none";

  // ‚úÖ IMPORTANT: wait a moment, then resize so the scaled element is centered
  setTimeout(resizeGame, 100);
}

      document.getElementById("gameFrame").addEventListener("load", () => {
  resizeGame();
});


  function goFullscreen() {
    const box = document.getElementById("gameBox");

    if (box.requestFullscreen) {
      box.requestFullscreen();
    } else if (box.webkitRequestFullscreen) {
      box.webkitRequestFullscreen();
    } else if (box.msRequestFullscreen) {
      box.msRequestFullscreen();
    }
  }

      function resizeGame() {
  const box = document.getElementById("gameBox");
  const scaleBox = document.getElementById("gameScale");

  // compute scale to fit the fixed 640x480 game inside the container
  const scaleX = box.clientWidth / 640;
  const scaleY = box.clientHeight / 480;
  const scale = Math.min(scaleX, scaleY);

  // apply scale (transform-origin is 0 0 so left/top offsets are simple)
  scaleBox.style.transform = `scale(${scale})`;

  // center the scaled box inside the container
  const scaledW = 640 * scale;
  const scaledH = 480 * scale;
  scaleBox.style.left = (box.clientWidth - scaledW) / 2 + "px";
  scaleBox.style.top = (box.clientHeight - scaledH) / 2 + "px";
}

// keep layout responsive
window.addEventListener('resize', resizeGame);
// call resize when fullscreen state changes
document.addEventListener('fullscreenchange', resizeGame);
document.addEventListener('webkitfullscreenchange', resizeGame);
document.addEventListener('msfullscreenchange', resizeGame);

      
</script>

    

    <!-- üñº DESCRIPTION SECTION -->
    <div class="description">
      <!-- üé¨ STEAM STYLE VIDEO PREVIEW -->
<div class="steam-preview">
  <h2>Game Preview</h2>

    <span style="
  position:absolute;
  top:10px;
  left:10px;
  background:#5c7e10;
  color:white;
  padding:4px 8px;
  font-size:12px;
  border-radius:3px;">
  Student Project
</span>

  <div class="steam-video-frame">
    <video controls poster="../../assets/legendofzaruto.png">
      <source src="../../assets/preview.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
</div>

      
      <img src="../../assets/legendofzaruto.png" alt="Legend of Zaruto">

      <p>
        <strong>Legend of Zaruto</strong> is a 2D action-RPG game created using
        <strong>Stencyl (HTML5)</strong>.
      </p>

      <p>
        Legend of zaruto is game inspired by Ninja world of Naruto created by Masashi kishimoto. This is a student project game and designed to be like RPG game where player will go on mission and following the story after finishing the mission.
      </p>

      <p>
        The game is focused more on the concept of casting skill where player need to combine ninja sign then cast the skill after finishing 3 ninja sign. 
      </p>

      <img src="../../assets/skilllist.png" alt="Skill list">
      
      <p>
        <strong>How it works</strong>
      </p>
      
      <p>
       Each Ninja sign is assign with Number which is : <br>
        Q = 1 <br>
        W = 2 <br>
        E = 2 <br> 
      </p>

      <p>
        I Created several attribute for this to work which is  : <br>
        1. Channeling (Boolean) <br>
        2. Channeling time (number) <br>
        3. 1st Sign (number) <br>
        4. 2nd Sign (number) <br>
        5. 3rd Sign (number) <br>
        All Number attribute default is 0 <br>
      </p>
      
      <p>
        So the flow is , when player press any sign key (Q/W/E) , the channeling boolean will be set to true , channeling time increase by 2 second every time sign is pressed. <br>
        When player press any sign key , it will fill the 1st sign , if the first sign is filled or not 0 , then it will continue to fill the 2nd sign , and lastly 3rd sign. <br>
        When 3 sign is filled , player can press R to cast skill. The skill that is casted will be depends on the result of the multiply of 1st , 2nd , and 3rd sign. <br>
      </p>

      <p>
        <strong> Example : </strong> <br>
        1. Q W E = 1 x 2 x 3 = 6 , Because the total calculation is 6 then Player will cast Water tornado when R is pressed. <br>
        2. Q Q Q = 1 x 1 x 1 = 1 , Because the total calculation is 1 then player will cast fire ball when R is pressed. <br>
        3. Q Q (Blank only 1st and 2nd sign is filled) = 1 x 1 x 0 , because the total calculation is 0 then the player will not cast any skill. <br>
      </p>

      <p>
        When the channeling time of 2 seconds end , the channeling will set to false and all the sign will be reseted to 0. 
      </p>

    <p>
      <strong>Screenshot of the block code : </strong>
    </p>
      
      <img src="../../assets/codingconcept2.png" alt="Skill list">
      <img src="../../assets/codingconcept1.png" alt="Skill list">
      
    </div>
  </div>

  <!-- duplicate fullscreen script removed (handled above) -->


</body>
</html>
